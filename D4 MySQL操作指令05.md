# MySQL操作指令05

今天发现了MySQL官方的GUI软件MySQL Workbench，然后收获一波惊喜！今后的Daliy Record由GUI来接力。
**原因如下：**  
1.MySQL Workbench里面写代码比cmd友好太多；  
2.代码运行展示效果对习惯GUI的小白更友好；  
3.代码出错时更容易调整，cmd只能重输很考验学习的意志力；  
4.Workbench比较方便的将SQL文件进行迁移，对学习的连续性很有帮助！！！   
**But Workbench来写Daliy Record需要贴图太麻烦，我决定自学用bench，记录用cmd!!!**

## 1.MySQL中重命名表名称
命令：`ALTER TABLE tb_name RENAME TO tb_new_name;`
示例：`ALTER TABLE pro RENAME TO product;`将表名称替换为product。

## 2.MySQL中SELECT的其他用法
### 2.1 SELECT语句剔除重复数据
```
mysql> SELECT * FROM pro;
+------+------------+--------------+--------+--------+------------+
| id   | name       | type         | sprice | pprice | rd         |
+------+------------+--------------+--------+--------+------------+
| 0001 | T恤衫      | 衣服         |   1000 |     50 | 2009-09-20 |
| 0002 | 打孔器     | 办公用品     |    500 |    320 | 2009-09-11 |
| 0003 | 运动T恤    | 衣服         |   4000 |   2800 | 2009-09-20 |
| 0004 | 菜刀       | 厨房用具     |   3000 |   2800 | 2009-09-20 |
| 0005 | 高压锅     | 厨房用具     |   6800 |   5000 | 2009-01-15 |
| 0006 | 叉子       | 厨房用具     |    500 |   NULL | 2009-09-20 |
| 0007 | 擦菜板     | 厨房用具     |    880 |    790 | 2008-04-28 |
| 0008 | 圆珠笔     | 办公用品     |    100 |   NULL | 2009-11-11 |
+------+------------+--------------+--------+--------+------------+
8 rows in set (0.00 sec)

mysql> SELECT pprice FROM pro;
+--------+
| pprice |
+--------+
|     50 |
|    320 |
|   2800 |
|   2800 |
|   5000 |
|   NULL |
|    790 |
|   NULL |
+--------+
8 rows in set (0.00 sec)

mysql> SELECT DISTINCT pprice FROM pro;            #DISTINCT效果剔除重复数据
+--------+
| pprice |
+--------+
|     50 |
|    320 |
|   2800 |
|   5000 |
|   NULL |
|    790 |
+--------+
6 rows in set (0.00 sec)
```
### 2.2 SELECT为表的列设定别名
命令：`SELECT col1_name AS col1_new_name,col2_name AS col2_new_name FROM tb_name;`
```
mysql> SELECT name AS "名称", type AS "类型", sprice AS "销售价格", pprice AS "采购价格" FROM pro;
+------------+--------------+--------------+--------------+
| 名称       | 类型         | 销售价格     | 采购价格     |
+------------+--------------+--------------+--------------+
| T恤衫      | 衣服         |         1000 |           50 |
| 打孔器     | 办公用品     |          500 |          320 |
| 运动T恤    | 衣服         |         4000 |         2800 |
| 菜刀       | 厨房用具     |         3000 |         2800 |
| 高压锅     | 厨房用具     |         6800 |         5000 |
| 叉子       | 厨房用具     |          500 |         NULL |
| 擦菜板     | 厨房用具     |          880 |          790 |
| 圆珠笔     | 办公用品     |          100 |         NULL |
+------------+--------------+--------------+--------------+
8 rows in set (0.00 sec)
```
### 2.3 SELECT配合WHERE运算符查询特定数据
`WHERE`的运算符`<,>,=,<>,<=,>=`都可以配合使用，示例：
```
mysql> SELECT name, sprice, pprice FROM pro
    -> WHERE sprice-pprice>500;
+------------+--------+--------+
| name       | sprice | pprice |
+------------+--------+--------+
| T恤衫      |   1000 |     50 |
| 运动T恤    |   4000 |   2800 |
| 高压锅     |   6800 |   5000 |
+------------+--------+--------+
3 rows in set (0.00 sec)
```
### 2.4 SELECT查询数据修饰处理
场景如下：领导想知道商品价格打七折后的价格，销售利润，销售利润大于0商品。
**组合使用‘别名’和‘操作符’拓展`SELECT`的使用场景！**
```
mysql> SELECT name, sprice, pprice, sprice*0.7 AS "促销价格" FROM pro;   #将“促销价格”提炼出来！
+------------+--------+--------+--------------+
| name       | sprice | pprice | 促销价格     |
+------------+--------+--------+--------------+
| T恤衫      |   1000 |     50 |        700.0 |
| 打孔器     |    500 |    320 |        350.0 |
| 运动T恤    |   4000 |   2800 |       2800.0 |
| 菜刀       |   3000 |   2800 |       2100.0 |
| 高压锅     |   6800 |   5000 |       4760.0 |
| 叉子       |    500 |   NULL |        350.0 |
| 擦菜板     |    880 |    790 |        616.0 |
| 圆珠笔     |    100 |   NULL |         70.0 |
+------------+--------+--------+--------------+
8 rows in set (0.00 sec)

mysql> SELECT name, sprice, pprice, sprice*0.7 AS "促销价格",sprice*0.7-pprice AS "促销利润"  FROM pro;
+------------+--------+--------+--------------+--------------+
| name       | sprice | pprice | 促销价格     | 促销利润     |        #将“促销利润”体现出来！
+------------+--------+--------+--------------+--------------+
| T恤衫      |   1000 |     50 |        700.0 |        650.0 |
| 打孔器     |    500 |    320 |        350.0 |         30.0 |
| 运动T恤    |   4000 |   2800 |       2800.0 |          0.0 |
| 菜刀       |   3000 |   2800 |       2100.0 |       -700.0 |
| 高压锅     |   6800 |   5000 |       4760.0 |       -240.0 |
| 叉子       |    500 |   NULL |        350.0 |         NULL |
| 擦菜板     |    880 |    790 |        616.0 |       -174.0 |
| 圆珠笔     |    100 |   NULL |         70.0 |         NULL |
+------------+--------+--------+--------------+--------------+
8 rows in set (0.00 sec)

mysql> SELECT name, sprice, pprice, sprice*0.7 AS "促销价格",sprice*0.7-pprice AS "促销利润"  FROM pro
    -> WHERE sprice*0.7-pprice>0;                                   #促销后利润仍为正的产品！
+-----------+--------+--------+--------------+--------------+
| name      | sprice | pprice | 促销价格     | 促销利润     |
+-----------+--------+--------+--------------+--------------+
| T恤衫     |   1000 |     50 |        700.0 |        650.0 |
| 打孔器    |    500 |    320 |        350.0 |         30.0 |
+-----------+--------+--------+--------------+--------------+
2 rows in set (0.00 sec)
```
## 3.选择NULL数据
`NULL`存在是需使用`IS NULL`或者`IS NOT NULL`来完成条件限制
示例：
```mysql> SELECT pprice FROM pro
    -> WHERE pprice IS NULL;
+--------+
| pprice |
+--------+
|   NULL |
|   NULL |
+--------+
2 rows in set (0.00 sec)
```
